#include <stdio.h>
#include <math.h>
#include <wiringPi.h>

#define BSERIAL		6
#define CLOCK		4
#define NENABLE		5

int bin[8];
int v01[] = {0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x87, 0x87, 0x89, 0x87, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x71, 0xFE, 0x54, 0x7C, 0x7E, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x83, 0x85, 0x87, 0x89, 0x8B, 0x8D, 0x8F, 0x8F, 0x8D, 0x89, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x91, 0xA1, 0xC1, 0xE1, 0xFE, 0xFE, 0xE0, 0xC0, 0xA1, 0x91, 0x81, 0x71, 0x69, 0x67, 0x61, 0x55, 0x55, 0x59, 0x61, 0x67, 0x6B, 0x71, 0x75, 0x75, 0x79, 0x7B, 0x7D, 0x7F, 0x7F, 0x7F, 0x7F, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81};
int v02[] = {0x81, 0x81, 0x71, 0x61, 0x41, 0x21, 0x10, 0x20, 0x30, 0x50, 0x61, 0x85, 0x8D, 0x97, 0x99, 0x9B, 0x99, 0x95, 0x93, 0x8D, 0x8B, 0x89, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x71, 0x61, 0x41, 0x21, 0x10, 0x20, 0x30, 0x50, 0x61, 0x85, 0x8D, 0x97, 0x99, 0x9B, 0x99, 0x95, 0x93, 0x8D, 0x8B, 0x89, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x71, 0x61, 0x41, 0x21, 0x10, 0x20, 0x30, 0x50, 0x61, 0x85, 0x8D, 0x97, 0x99, 0x9B, 0x99, 0x95, 0x93, 0x8D, 0x8B, 0x89, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x71, 0x61, 0x41, 0x21, 0x10, 0x20, 0x30, 0x50, 0x61, 0x85, 0x8D, 0x97, 0x99, 0x9B, 0x99, 0x95, 0x93, 0x8D, 0x8B, 0x89, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81};
int v03[] = {0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x87, 0x87, 0x89, 0x87, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x71, 0xFE, 0x54, 0x7C, 0x7E, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x83, 0x85, 0x87, 0x89, 0x8B, 0x8D, 0x8F, 0x8F, 0x8D, 0x89, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x87, 0x87, 0x89, 0x87, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x71, 0xFE, 0x54, 0x7C, 0x7E, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x83, 0x85, 0x87, 0x89, 0x8B, 0x8D, 0x8F, 0x8F, 0x8D, 0x89, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81};
int v04[] = {0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x87, 0x87, 0x89, 0x89, 0x87, 0x85, 0x83, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x71, 0xFE, 0x54, 0x7C, 0x7E, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x83, 0x85, 0x87, 0x87, 0x89, 0x89, 0x8B, 0x8D, 0x8F, 0x91, 0x93, 0x95, 0x95, 0x95, 0x93, 0x91, 0x8B, 0x87, 0x85, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81};
int v05[] = {0x81, 0x81, 0x81, 0x83, 0x87, 0x87, 0x87, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x71, 0xFE, 0x54, 0x7C, 0x7E, 0x81, 0x81, 0x83, 0x87, 0x89, 0x8D, 0x91, 0x93, 0x95, 0x95, 0x8F, 0x83, 0x81, 0x81, 0x81, 0x81, 0x83, 0x87, 0x87, 0x87, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x71, 0xFE, 0x54, 0x7C, 0x7E, 0x81, 0x81, 0x83, 0x87, 0x89, 0x8D, 0x91, 0x93, 0x95, 0x95, 0x8F, 0x83, 0x81, 0x81, 0x81, 0x81, 0x83, 0x87, 0x87, 0x87, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x71, 0xFE, 0x54, 0x7C, 0x7E, 0x81, 0x81, 0x83, 0x87, 0x89, 0x8D, 0x91, 0x93, 0x95, 0x95, 0x8F, 0x83, 0x81, 0x81, 0x81, 0x81, 0x83, 0x87, 0x87, 0x87, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x71, 0xFE, 0x54, 0x7C, 0x7E, 0x81, 0x81, 0x83, 0x87, 0x89, 0x8D, 0x91, 0x93, 0x95, 0x95, 0x8F, 0x83, 0x81};
int v06[] = {0x84, 0x90, 0x9B, 0x8B, 0x79, 0x73, 0x65, 0x63, 0x65, 0x6B, 0x79, 0x85, 0x97, 0xA5, 0xA1, 0x95, 0x6A, 0x60, 0x5F, 0x63, 0x67, 0x73, 0x7B, 0x79, 0x79, 0x77, 0x7B, 0x81, 0x89, 0x8F, 0x91, 0x8F, 0x8C, 0x7E, 0x67, 0x5F, 0x59, 0x61, 0x6F, 0x7B, 0x81, 0x9B, 0x9F, 0xA1, 0x9F, 0x95, 0x79, 0x6F, 0x6A, 0x6A, 0x6F, 0x75, 0x81, 0x95, 0x9D, 0x9F, 0x95, 0x8D, 0x6B, 0x5B, 0x57, 0x51, 0x5D, 0x63, 0x66, 0x72, 0x7B, 0x7F, 0x83, 0x87, 0x89, 0x8F, 0x93, 0x95, 0x9B, 0xA1, 0xA7, 0xA9, 0xAB, 0xA7, 0x8A, 0x6A, 0x67, 0x69, 0x69, 0x71, 0x75, 0x75, 0x73, 0x71, 0x71, 0x75, 0x8B, 0x93, 0x8F, 0x95, 0x8E, 0x86, 0x75, 0x65, 0x61, 0x65, 0x6D, 0x7B, 0x87, 0x91, 0xA7, 0xB1, 0xB1, 0xA9, 0x97, 0x7B, 0x6E, 0x64, 0x65, 0x69, 0x75, 0x7F, 0x85, 0x8F, 0x93, 0x95, 0x91, 0x89, 0x83, 0x83, 0x81, 0x83};
int v07[] = {0x81, 0x83, 0x85, 0x83, 0x7D, 0x7F, 0x83, 0x81, 0x83, 0x85, 0x87, 0x83, 0x7F, 0x7D, 0x7D, 0x83, 0x83, 0x85, 0x83, 0x77, 0xFE, 0x66, 0x82, 0x80, 0x81, 0x83, 0x85, 0x83, 0x7D, 0x7F, 0x83, 0x85, 0x87, 0x8D, 0x93, 0x97, 0x95, 0x91, 0x93, 0x8F, 0x89, 0x87, 0x81, 0x83, 0x7F, 0x7D, 0x7F, 0x81, 0x85, 0x83, 0x7D, 0x7F, 0x77, 0x7F, 0x83, 0x85, 0x87, 0x89, 0x85, 0x81, 0x7D, 0x85, 0x87, 0x81, 0x87, 0x89, 0x87, 0x83, 0x7D, 0x77, 0x79, 0x7D, 0x83, 0x81, 0x85, 0x83, 0x89, 0x8F, 0x89, 0x7D, 0x79, 0x79, 0x7D, 0x81, 0x83, 0x7F, 0x81, 0x7B, 0x77, 0x71, 0xFE, 0x50, 0x82, 0x84, 0x89, 0x85, 0x79, 0x85, 0x85, 0x87, 0x8D, 0x8F, 0x95, 0x93, 0x91, 0x8D, 0x8D, 0x89, 0x83, 0x85, 0x89, 0x81, 0x7D, 0x7F, 0x79, 0x87, 0x85, 0x83, 0x81, 0x85, 0x79, 0x89, 0x85, 0x83, 0x87, 0x89, 0x85, 0x83};
int v08[] = {0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x87, 0x87, 0x89, 0x87, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x71, 0xFE, 0x54, 0x7C, 0x7E, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x83, 0x85, 0x87, 0x89, 0x8B, 0x8D, 0x8F, 0x8F, 0x8D, 0x89, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x71, 0x61, 0x41, 0x21, 0x10, 0x20, 0x30, 0x50, 0x61, 0x85, 0x8D, 0x97, 0x99, 0x9B, 0x99, 0x95, 0x93, 0x8D, 0x8B, 0x89, 0x87, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81};
int v09[] = {0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x87, 0x87, 0x89, 0x87, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x71, 0xFE, 0x54, 0x7C, 0x7E, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x87, 0x89, 0x8D, 0x81, 0x71, 0x61, 0x41, 0x21, 0x10, 0x20, 0x30, 0x50, 0x61, 0x85, 0x8D, 0x97, 0x99, 0x9B, 0x99, 0x95, 0x93, 0x8D, 0x8B, 0x89, 0x87, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81};
int v10[] = {0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x87, 0x87, 0x89, 0x87, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x71, 0xFE, 0x54, 0x7C, 0x7E, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x83, 0x85, 0x87, 0x89, 0x8B, 0x8D, 0x8F, 0x8F, 0x8D, 0x89, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x87, 0x87, 0x89, 0x87, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0xC0, 0x76, 0x5E, 0x44, 0x27, 0x27, 0x45, 0x5F, 0x77, 0x81, 0x91, 0x99, 0x9B, 0xA1, 0xAD, 0xAD, 0xA7, 0xA1, 0x9B, 0x97, 0x91, 0x8D, 0x89, 0x85, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81};
int v11[] = {0x81, 0x71, 0x61, 0x41, 0x21, 0x10, 0x20, 0x30, 0x50, 0x61, 0x85, 0x8D, 0x97, 0x99, 0x9B, 0x99, 0x95, 0x93, 0x8D, 0x8B, 0x89, 0x87, 0x85, 0x83, 0x81, 0x81, 0x71, 0x61, 0x51, 0x30, 0x44, 0x66, 0x76, 0x81, 0x87, 0x8B, 0x95, 0x9B, 0xA1, 0xA1, 0x9D, 0x99, 0x95, 0x8D, 0x8B, 0x89, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x91, 0xA1, 0xC1, 0xE1, 0xFE, 0xFE, 0xE0, 0xC0, 0xA1, 0x91, 0x81, 0x71, 0x69, 0x67, 0x61, 0x55, 0x55, 0x59, 0x61, 0x67, 0x6B, 0x71, 0x75, 0x75, 0x79, 0x7B, 0x7D, 0x7F, 0x7F, 0x7F, 0x7F, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81};
int v12[] = {0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x87, 0x87, 0x89, 0x87, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x71, 0xFE, 0x54, 0x7C, 0x7E, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x83, 0x85, 0x87, 0x89, 0x8B, 0x8D, 0x8F, 0x8F, 0x8D, 0x89, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81};

void conversao (int num) {
  int i;
  for (i=0; i<8; i++){
    bin [i] = num%2;
    num = num/2;
  }
}

void escreve_valor (int num){
  int i;
  digitalWrite (NENABLE, 1);
  conversao (num);
  for (i=7; i>=0; i--){
    digitalWrite (BSERIAL, bin[i]);
    digitalWrite (CLOCK, 1);
    digitalWrite (CLOCK, 0);
  }
  digitalWrite(CLOCK,1);
  digitalWrite(CLOCK,0);
  digitalWrite (NENABLE, 0);
}

int main (void)
{
  int num=0;
  int i;
  int modo;

  wiringPiSetup () ;
  pinMode (BSERIAL, OUTPUT);
  pinMode (CLOCK, OUTPUT);
  pinMode (NENABLE, OUTPUT);

  printf ("Escolha um modo de 1 a 12\n");
  scanf ("%d", &modo);

  if (modo == 1){
    for (;;){
      for (i=0; i<128; i++){
        escreve_valor (v01[i]);
        delayMicroseconds (15625);
      }
    }
  }

  if (modo == 2){
    for (;;){
      for (i=0; i<128; i++){
        escreve_valor (v02[i]);
        delayMicroseconds (15625);
      }
    }
  }

  if (modo == 3){
    for (;;){
      for (i=0; i<128; i++){
        escreve_valor (v03[i]);
        delayMicroseconds (15625);
      }
    }
  }

  if (modo == 4){
    for (;;){
      for (i=0; i<128; i++){
        escreve_valor (v04[i]);
        delayMicroseconds (15625);
      }
    }
  }

  if (modo == 5){
    for (;;){
      for (i=0; i<128; i++){
        escreve_valor (v05[i]);
        delayMicroseconds (15625);
      }
    }
  }

  if (modo == 6){
    for (;;){
      for (i=0; i<128; i++){
        escreve_valor (v06[i]);
        delayMicroseconds (15625);
      }
    }
  }

  if (modo == 7){
    for (;;){
      for (i=0; i<128; i++){
        escreve_valor (v07[i]);
        delayMicroseconds (15625);
      }
    }
  }

  if (modo == 8){
    for (;;){
      for (i=0; i<128; i++){
        escreve_valor (v08[i]);
        delayMicroseconds (15625);
      }
    }
  }

  if (modo == 9){
    for (;;){
      for (i=0; i<128; i++){
        escreve_valor (v09[i]);
        delayMicroseconds (15625);
      }
    }
  }

  if (modo == 10){
    for (;;){
      for (i=0; i<128; i++){
        escreve_valor (v10[i]);
        delayMicroseconds (15625);
      }
    }
  }

  if (modo == 11){
    for (;;){
      for (i=0; i<128; i++){
        escreve_valor (v11[i]);
        delayMicroseconds (15625);
      }
    }
  }

 if (modo == 12){
    for (;;){
      for (i=0; i<128; i++){
        escreve_valor (v12[i]);
        delayMicroseconds (15625);
      }
    }
  }
  return 0 ;
}
